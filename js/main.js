function openSpoiler(){document.querySelectorAll(".accordion").forEach((e=>{let t=e.querySelector(".accordion-open"),o=e.querySelector(".accordion__content");t.addEventListener("click",(()=>{t.classList.contains("open")?(o.style.maxHeight=null,t.classList.remove("open")):(o.style.maxHeight=o.scrollHeight+"px",t.classList.add("open")),document.addEventListener("click",(e=>{e.target!==t&&(o.style.maxHeight=null,t.classList.remove("open"))}))})),document.addEventListener("keydown",(e=>{"Escape"==e.key&&(o.style.maxHeight=null,t.classList.remove("open"))}))}))}openSpoiler();