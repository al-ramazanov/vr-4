function parallax(e,t){t.forEach((t=>{const s=(e.clientX-window.innerWidth/20-t.offsetWidth)*t.dataset.offsetX,o=(e.clientY-window.innerHeight/20-t.offsetHeight)*t.dataset.offsetY;t.style.transform=`translateX(${s}px) translateY(${o}px)`}))}function getURLVar(e,t){var s=[],o=t||document.location,n=String(o).split("?");if(n[1]){var a=n[1].split("&");for(i=0;i<a.length;i++){var r=a[i].split("=");r[0]&&r[1]&&(s[r[0]]=r[1])}return s[e]?s[e]:""}}function fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var s=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+s)}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(t)}function copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):fallbackCopyTextToClipboard(e)}function initProductCardSlider(e){e.slick({infinite:!0,slidesToScroll:5,slidesToShow:5,dots:!0,appendDots:e.closest(".products-cards-slider__wrapper").find(".js-products-cards-slider-pagination"),prevArrow:e.closest(".products-cards-slider__wrapper").find(".js-products-cards-slider-btn-prev"),nextArrow:e.closest(".products-cards-slider__wrapper").find(".js-products-cards-slider-btn-next"),responsive:[{breakpoint:1550,settings:{slidesToScroll:5,slidesToShow:5}},{breakpoint:1368,settings:{slidesToScroll:4,slidesToShow:4}},{breakpoint:1200,settings:{slidesToScroll:3,slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}}]})}window.onscroll=function(){document.getElementById("head_panel")&&fixed_panel()},window.cookie={getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t,s){var o=(s=s||{}).expires;if("number"==typeof o&&o){var i=new Date;i.setTime(i.getTime()+1e3*o),o=s.expires=i}o&&o.toUTCString&&(s.expires=o.toUTCString());var n=e+"="+(t=encodeURIComponent(t));for(var a in s){n+="; "+a;var r=s[a];!0!==r&&(n+="="+r)}document.cookie=n},deleteCookie:function(e){setCookie(e,null,{expires:-1})}},$(document).ready((function(){document.getElementById("head_panel")&&fixed_panel(),jQuery.fn.extend({showLoader:function(){0==$(this).children(".ajax-loader").length&&$(this).append('<div class="ajax-loader"><div class="spinner"><div></div><div></div><div></div><div></div></div></div>'),"static"===(window.getComputedStyle?getComputedStyle($(this)[0],null):$(this)[0].currentStyle).position&&$(this).addClass("relative"),$(this).is("body")&&$(this).children(".ajax-loader").first().addClass("fixed"),$(this).children(".ajax-loader").first().addClass("show")},hideLoader:function(){$(this).children(".ajax-loader").length>0&&$(this).children(".ajax-loader").remove()}}),$.ajaxSetup({cache:!1});var e,t=$("body"),s=t.width();$(window).on("scroll",(function(){clearTimeout(e),t.hasClass("disable-hover")||t.addClass("disable-hover"),e=setTimeout((function(){t.removeClass("disable-hover")}),200)})),document.querySelectorAll(".parallax-area").forEach((e=>{e.addEventListener("mousemove",(function(e){console.log(this),parallax(e,this.querySelectorAll(".parallax"))}))})),$(".js-pins-slider").length>0&&$(".js-pins-slider").each((function(){var e=$(this);$(window).resize((function(s){t.width()<768?e.hasClass("slick-initialized")||e.slick({infinite:!0,slidesToShow:2,dots:!0,arrows:!1,appendDots:e.parent().find(".js-pins-slider-pagination")}):e.hasClass("slick-initialized")&&e.slick("unslick")})).resize()})),$(".js-hide-alert").length>0&&setTimeout((function(){$(".js-hide-alert").slideUp(1e3,(function(){$(this).remove()}))}),5e3),$(".js-smooth-scroll-link").on("click",(function(e){e.preventDefault();var t=$(this).attr("href"),s=$(t).offset().top;$("html, body").animate({scrollTop:s},300)})),$(".js-open-callback-popup-btn").on("click",(function(e){e.preventDefault(),$(".js-popup-callback").remove(),$.ajax({url:"index.php?route=common/popup/callback",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){e.html&&($("body").append(e.html),initPhoneMask(),$("#sendCallRequest").bind("submit",(function(e){e.preventDefault();var t=$(this);t.find(".is-error").removeClass("is-error");var s=t.find("input[name=name]");$.trim(s.val()).length<2?s.closest(".form-group").addClass("is-error"):s.closest(".form-group").removeClass("is-error");var o=t.find("input[name=phone]");$.trim(o.val()).length<2||!validatePhone(o.val())?o.closest(".form-group").addClass("is-error"):o.closest(".form-group").removeClass("is-error");var i=t.find("input[name=privacy-policy]");return i.is(":checked")?i.closest(".form-group").removeClass("is-error"):i.closest(".form-group").addClass("is-error"),0===t.find(".is-error").length&&ajax_sendmessage(t,"/index.php?route=common/home/sendmess",(function(e){e.status&&("ok"===e.status?t.closest(".popup__content").html('<p class="popup__subtitle text-center">'+e.text+"</p>"):t.closest(".popup__content").find(".error_message").addClass("is-error").html('<div class="form-group__error">'+e.text+"</div>"))})),!1})))}})})),$(".js-open-feedback-form-popup-btn").on("click",(function(e){e.preventDefault(),$.ajax({url:"index.php?route=common/review_vc/get_form",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$("#ReviewVcPopup").remove(),$("body").append(e.form),$(".js-popup-feedback-form").fadeIn(300),$("html").addClass("is-fixed"),initPopupClose()},error:function(e,t,s){$("body").hideLoader()}})})),$(".js-open-follow-popup-btn").on("click",(function(e){e.preventDefault(),$(".js-popup-follow").fadeIn(300),$("html").addClass("is-fixed")})),$(".js-open-faq-popup-btn").on("click",(function(e){e.preventDefault();var t=$(this).data("faqId");return $.ajax({url:"index.php?route=extension/module/vc_faq/show_dialog",type:"post",data:"faq_id="+t,dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$(".js-popup-faq").remove(),e&&"success"==e.state&&($("body").append(e.html),$(".js-popup-faq").fadeIn(300),$("html").addClass("is-fixed"),setFaqViewed(t),initPopupClose())},error:function(e,t,s){$("body").hideLoader()}}),!1})),$(document).on("click",".js-open-quick-buy-popup-btn",(function(e){e.preventDefault();let t=$(this).data("is_cart"),s=$(".product-area").data("id")??0;$.post("index.php?route=common/popup/buy_one_click",{product_id:s,is_cart:t},(function(e){e.html&&$("body").append(e.html)}))})),$(".js-toggle-mobile-search-btn").on("click",(function(e){e.preventDefault(),$(".js-search").toggleClass("is-opened")})),$(".js-open-menu-btn").on("click",(function(e){e.preventDefault(),$(".js-menu").toggleClass("is-opened"),$(".js-catalog-menu").hasClass("is-opened")||$("html").toggleClass("is-fixed",$(".js-menu").hasClass("is-opened"))})),$(".js-back-menu-btn").on("click",(function(e){$(this).closest(".section-selected").length>0?$(this).closest(".section-selected").hasClass("category-selected")?$(this).closest(".section-selected").removeClass("category-selected"):$(this).closest(".section-selected").removeClass("section-selected"):$(this).closest(".category-selected").length>0&&$(this).closest(".category-selected").removeClass("category-selected")})),$(".js-close-menu-btn").on("click",(function(e){e.preventDefault(),$(".js-menu").removeClass("is-opened"),$(".js-catalog-menu").hasClass("is-opened")||$("html").toggleClass("is-fixed",$(".js-menu").hasClass("is-opened"))})),$(".js-show-more-categories-list").on("click",(function(e){e.preventDefault(),$(this).closest(".catalog-menu__categories-list").addClass("show-all"),$(this).closest(".catalog-menu__categories-list_wrapper").overlayScrollbars({overflowBehavior:{x:"hidden"}})})),$(".js_menu-tab-btn").each((function(){$(this).on("click",(function(e){e.preventDefault();var t=$(this).parents(".tabs");t.find(".js_menu-tab-btn").removeClass("is-active").removeClass("selected"),$(this).addClass("selected").addClass("is-active"),$(this).closest(".site-menu").addClass("section-selected"),t.find(".js-tab-content").removeClass("is-active").removeClass("selected"),t.find(".js-tab-content").eq($(this).index()).addClass("is-active").addClass("selected")}))})),$(".catalog-menu__nav a").on("click",(function(e){if($(this).hasClass("has-children")){e.preventDefault();var t=$(this).closest("li").attr("data-id");return $(this).closest("ul").find("li").removeClass("selected"),$(this).closest("li").addClass("selected"),$(this).closest(".catalog-menu-store").find(".js-catalog-menu-categories").removeClass("selected"),$(this).closest(".catalog-menu-store").find('.js-catalog-menu-categories[data-id="'+t+'"]').addClass("selected"),$(this).closest(".site-menu").addClass("category-selected"),$(this).closest(".catalog-menu").addClass("category-selected"),!1}})),$(".catalog-menu__nav li").on("mouseenter",(function(e){var t=$(this).attr("data-id");$(this).closest(".catalog-menu-store").find(".js-catalog-menu-categories").removeClass("is-active"),$(this).closest(".catalog-menu-store").find('.js-catalog-menu-categories[data-id="'+t+'"]').addClass("is-active")})),$(".js-open-catalog-menu-btn").on("click",(function(e){e.preventDefault(),$(".js-catalog-menu").toggleClass("is-opened"),$("html").toggleClass("is-fixed")})),$(".js-close-catalog-menu-btn").on("click",(function(e){e.preventDefault(),$(".js-catalog-menu").removeClass("is-opened"),$("html").removeClass("is-fixed")})),s<767&&($(".catalog-menu__categories--block .catalog-menu__title").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".catalog-menu__categories--block").find(".catalog-menu__brands-wrapper").stop().slideToggle(250),$(this).parents(".catalog-menu__categories--block").find(".catalog-menu__categories-lists_wrapper").stop().slideToggle(250)})),$(".js_catalog-menu__categories-list_title").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".catalog-menu__categories-list").find("ul").stop().slideToggle(250)}))),$(".js-toggle-site-search-btn").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(".js-site-search").toggleClass("is-opened"),$(".site-header-pages").toggle(!$(".js-site-search").hasClass("is-opened"))})),$(".js-toggle-order-details-btn").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-toggled"),$(this).parents(".cabinet-order").find(".js-order-details").stop().slideToggle(250)})),$(".js_copy_link").click((function(){return copyTextToClipboard($(this).attr("href")),!1})),$(".js-toggle-cart-order-information-btn").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-toggled"),$(this).parents(".cart-order-information").find(".hidden-responsive-list").stop().slideToggle(150)})),$(".cart-ordering-step.is-validate").on("click",".cart-ordering-step__header",(function(e){e.preventDefault(),$(this).parents(".cart-ordering-step.is-validate").find(".cart-ordering-step__body").stop().slideToggle(250)})),$(".delivery-company__terms-link").on("click",(function(e){e.preventDefault(),$(this).parents(".delivery-company").find(".delivery-company__map").stop().slideToggle(250)})),$(".js-toggle-article-card-content-btn").on("click",(function(e){e.preventDefault(),$(this).hasClass("is-toggled")||"faq"==$(this).data("type")&&setFaqViewed($(this).data("id")),$(this).toggleClass("is-toggled"),$(this).parents(".article-card").find(".article-card__content").stop().slideToggle(250)})),$(".js-toggle-items-btn").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-toggled"),$(this).closest(".toggled-parent").find(".toggled-item").stop().slideToggle(250)})),$(".has-sublist span").on("click",(function(e){e.preventDefault();var t=$(this).closest(".has-sublist"),s=$(this).next(".sublist");s.hasClass("is-active")?(t.removeClass("is-current"),s.removeClass("is-active"),$(this).removeClass("is-toggled"),s.stop().slideUp(200)):(t.addClass("is-current"),s.addClass("is-active"),$(this).addClass("is-toggled"),s.stop().slideDown(200))})),$(document).on("click",".js-product-quantity",(function(e){var t=$(this).find("input[type=number]"),s=t.val(),o=$(e.target);if("plus"==o.attr("data-action"))s++,t.val(s),t.trigger("change");else if("minus"==o.attr("data-action")){if(t.val()<=1)return;s--,t.val(s),t.trigger("change")}})),$(".js-promo-slider").length>0&&$(".js-promo-slider").slick({infinite:!0,dots:!0,appendDots:$(".js-promo-slider-pagination"),prevArrow:$(".js-promo-slider-btn-prev"),nextArrow:$(".js-promo-slider-btn-next"),autoplay:!0,autoplaySpeed:5e3}),$(".js-promo-slider-full").length>0&&$(".js-promo-slider-full").slick({infinite:!0,dots:!0,appendDots:$(".js-promo-slider-full-pagination"),prevArrow:$(".js-promo-slider-full-btn-prev"),nextArrow:$(".js-promo-slider-full-btn-next"),autoplay:!0,centerMode:!0,variableWidth:!0,autoplaySpeed:8e3}),$(".js-advantages-slider").length>0&&$(".js-advantages-slider").slick({infinite:!0,dots:!0,arrows:!1,slidesToShow:5,appendDots:$(".js-advantages-slider-pagination"),responsive:[{breakpoint:1365,settings:{slidesToShow:4}},{breakpoint:1100,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".js-promo-products-cards-slider").length>0&&$(".js-promo-products-cards-slider").slick({infinite:!0,dots:!0,arrows:!1,appendDots:$(".js-promo-products-cards-slider-pagination"),responsive:[{breakpoint:1201,settings:{slidesToShow:4}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:800,settings:{slidesToShow:2}},{breakpoint:620,settings:{slidesToShow:1}}]}),$(".js-products-slider-by-section").each((function(){var e=$(this),t=e.data("mid");$(".js-section-button",e).click((function(){if(!$(this).hasClass("is-active")){var s=$(e).find(".js-products-cards-slider");s&&($(".js-section-button",e).removeClass("is-active"),$(this).addClass("is-active"),$.ajax({url:"index.php?route=extension/module/vc_products_slider_by_section/getProducts",type:"post",data:{module_id:t,section_index:$(this).data("sectionIndex")},dataType:"html",beforeSend:function(){$(s).closest(".container").showLoader()},complete:function(){$(s).closest(".container").hideLoader()},success:function(e){s.slick("unslick").html(e),initProductCardSlider(s)},error:function(e,t,o){$(s).closest(".container").hideLoader()}}))}}))})),$(".js-products-cards-slider").length>0&&$(".js-products-cards-slider").each((function(){initProductCardSlider($(this))})),$(".js-tab-controls-slider").length>0&&($(".js-tab-controls-slider").each((function(){var e=$(this);e.slick({infinite:!0,slidesToShow:5,dots:!1,prevArrow:e.parents(".tab-controls-slider__wrapper").find(".js-tab-controls-slider-btn-prev"),nextArrow:e.parents(".tab-controls-slider__wrapper").find(".js-tab-controls-slider-btn-next")})})),s<768&&$(".js-tab-controls-slider").each((function(){$(this).slick("unslick")}))),$(".js-our-brands-slider").length>0&&$(".js-our-brands-slider").slick({infinite:!0,dots:!0,slidesToShow:5,prevArrow:$(".js-our-brands-slider-btn-prev"),nextArrow:$(".js-our-brands-slider-btn-next"),appendDots:$(".js-our-brands-slider-pagination"),autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:1100,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:620,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".js-faq-slider").length>0&&$(".js-faq-slider").slick({infinite:!0,dots:!0,slidesToShow:6,prevArrow:$(".js-faq-slider-btn-prev"),nextArrow:$(".js-faq-slider-btn-next"),appendDots:$(".js-faq-slider-pagination"),responsive:[{breakpoint:1550,settings:{slidesToShow:5}},{breakpoint:1281,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".js-open-feedback-popup-btn").on("click",(function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"index.php?route=extension/module/vc_review/show_dialog",type:"post",dataType:"json",data:"id="+t,beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$(".js-popup-feedback").remove(),$("body").append(e.html),$(".js-popup-feedback").fadeIn(300),$("html").addClass("is-fixed"),$(".js-feedback-gallery-slider").length>0&&($(".js-feedback-gallery-slider").each((function(){var e=$(this);e.on("init",(function(e){$(this).parents(".slider-with-loading").addClass("is-loaded")})),e.slick({infinite:!0,dots:!0,swipe:!1,slidesToScroll:3,slidesToShow:3,appendDots:e.parents(".feedback-gallery").find(".js-feedback-gallery-slider-pagination"),prevArrow:e.parents(".feedback-gallery").find(".js-feedback-gallery-slider-btn-prev"),nextArrow:e.parents(".feedback-gallery").find(".js-feedback-gallery-slider-btn-next"),responsive:[{breakpoint:621,settings:{slidesToShow:1,variableWidth:!0,slidesToScroll:1}}]})})),$(".js-feedback-gallery-slider [data-fancybox]").fancybox({loop:!0,buttons:["zoom","close"]})),initPopupClose()},error:function(e,t,s){$("body").hideLoader()}})})),$(".js-sertificates-slider").length>0&&$(".js-sertificates-slider").slick({infinite:!0,dots:!0,slidesToShow:6,prevArrow:$(".js-sertificates-slider-btn-prev"),nextArrow:$(".js-sertificates-slider-btn-next"),appendDots:$(".js-sertificates-slider-pagination"),responsive:[{breakpoint:1365,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".js-product-set-slider").length>0&&$(".js-product-set-slider").each((function(){var e=$(this);e.slick({infinite:!0,dots:!0,slidesToShow:4,prevArrow:e.parents(".product-set-slider__wrapper").find(".js-product-set-slider-btn-prev"),nextArrow:e.parents(".product-set-slider__wrapper").find(".js-product-set-slider-btn-next"),appendDots:e.parents(".product-set-slider__wrapper").find(".js-product-set-slider-pagination"),responsive:[{breakpoint:1550,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,variableWidth:!0}}]})})),$(".js-articles-cards-slider").length>0&&$(".js-articles-cards-slider").slick({infinite:!0,dots:!0,slidesToShow:3,prevArrow:$(".js-articles-cards-slider-btn-prev"),nextArrow:$(".js-articles-cards-slider-btn-next"),appendDots:$(".js-articles-cards-slider-pagination"),responsive:[{breakpoint:1550,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:620,settings:{slidesToShow:1,slidesToScroll:1}}]});let o=$(".main"),i=$(".js-fixed-panel"),n=$(panel),a=!1;$(window).on("scroll",(function(e){$(this).scrollTop()>500?(a||(a=!0,i.addClass("is-visible")),void 0!==panel_height&&n.offset().top+n.outerHeight()+i.height()<o.offset().top+o.height()?(i.hasClass("is-floating")||(i.addClass("is-floating"),i.css({position:"fixed"})),i.css({top:panel_height})):i.hasClass("is-floating")&&(i.removeClass("is-floating"),i.css({position:"absolute",top:o.offset().top+o.height()-i.height()}))):a&&(a=!1,i.removeClass("is-visible").css({top:""}),i.toggleClass("is-floating",!1))})),$(".js-remove-fixed-panel").on("click",(function(e){$(this).parents(".js-fixed-panel").remove()})),$("[data-fancybox]").fancybox({loop:!0,buttons:["zoom","close"]}),$(".cabinet-support-chat__form--file .btn-close").on("click",(function(e){e.preventDefault(),$(".cabinet-support-chat__form input[type=file]").val(""),$(".cabinet-support-chat__form--file span").html(""),$(".cabinet-support-chat__form--file").removeClass("is-visible")})),$(".cabinet-support-chat__form input[type=file]").on("change",(function(e){var t=$(this).val().split("\\").pop();$(".cabinet-support-chat__form--file span").html(t),$(".cabinet-support-chat__form--file").addClass("is-visible")})),$(".js-toggle-stock-details-btn").on("click",(function(e){e.preventDefault(),$(this).toggleClass("is-toggled"),$(this).parents(".cabinet-stock-content__text").find(".cabinet-stock-content__text-description .hidden-text").stop().slideToggle(250)})),$(".js-input-date").each((function(){var e=$(this);$(this).attr("autocomplete","off"),$(this).datepicker({monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dateFormat:"dd.mm.yy",maxDate:"birthday"==e.attr("name")?0:null,changeYear:!0,setDate:new Date})})),$(".js-select").each((function(){$(this).selectmenu()})),$(".cart-content, .cart-aside").theiaStickySidebar({additionalMarginTop:20}),$(".styled-scroll").overlayScrollbars({overflowBehavior:{x:"hidden"}}),$(".js-styled-scroll").overlayScrollbars({overflowBehavior:{x:"hidden"}}),$(".compare-table").overlayScrollbars({overflowBehavior:{y:"hidden"}}),$(".catalog-menu__brands").overlayScrollbars({overflowBehavior:{y:"hidden"}}),$(document).on("click",".js-product-to-cart",(function(e){let t=$(this),s=t.closest(".product-area"),o=s.data("id"),i=1,n=[];"product-page"==t.data("type")?(i=s.find('input[name="quantity"]').val()??2,$("[name^=service][type=checkbox]").each((function(){$(this).is(":checked")&&n.push($(this).val())}))):i=t.closest(".card").data("qty")??1;let a={product_id:o,quantity:i,services:n};$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:a,dataType:"json",beforeSend:function(){s.showLoader()},complete:function(){s.hideLoader()},success:function(e){e.redirect&&(window.location=e.redirect),e.success&&($("[data-id="+o+"]").each((function(){$(this).find(".js-product-to-cart").addClass("is-added").find(".btn-add__text").text(e.product_in_cart)})),$("#head_cart").load("index.php?route=common/cart/info",(function(){initHeadBlocks()})))},error:function(e,t,o){s.hideLoader(),console.log(o+"\r\n"+e.statusText+"\r\n"+e.responseText)}})})),$(document).on("click",".js-product-to-compare",(function(e){var t=$(this),s=t.hasClass("is-added"),o="index.php?route=product/compare/add";s&&(o="index.php?route=product/compare/remove");var i=t.closest(".product-area").data("id");$.ajax({url:o,type:"post",data:"product_id="+i,dataType:"json",beforeSend:function(){t.closest(".product-area").showLoader()},complete:function(){t.closest(".product-area").hideLoader()},success:function(e){e.success&&($("[data-id="+i+"]").each((function(){$(this).find(".js-product-to-compare").toggleClass("is-added",!s)})),$("#head_compare").load("index.php?route=product/compare/info",(function(){initHeadBlocks()})))},error:function(e,s,o){t.closest(".product-area").hideLoader(),console.log(o+"\r\n"+e.statusText+"\r\n"+e.responseText)}})})),$(document).on("click",".js-product-remove-from-compare",(function(e){e.preventDefault();var t=$(this);$.ajax({url:"index.php?route=product/compare/remove",type:"post",data:"product_id="+t.data("productId"),dataType:"json",success:function(e){e.success&&($("[data-id="+t.data("productId")+"]").each((function(){$(this).find(".js-product-to-compare").removeClass("is-added")})),$("#head_compare").load("index.php?route=product/compare/info",(function(){initHeadBlocks()})),$(".js-compare-categories .is-active").click())},error:function(e,t,s){console.log(s+"\r\n"+e.statusText+"\r\n"+e.responseText)}})})),$(document).on("click",".js-close-popup-btn",(function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300,(function(){let e=$(this);e.hasClass("is-dynamic-popup")&&e.remove()})),$("html").removeClass("is-fixed")}));var r=!1;$(document).on("mousedown",".popup__overflow",(function(e){e.stopPropagation(),r=e.target})),$(document).on("click",".popup__overflow",(function(e){var t=$(this).find(".popup__body");e.target!=r||t.is(e.target)||0!==t.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300,(function(){$(".is-dynamic-popup").remove()})))})),$(document).on("click",".js-toggle-product-card-labels-btn",(function(e){e.preventDefault(),$(this).parents(".product-labels").find(".product-label__hidden").toggleClass("is-toggled"),$(this).toggleClass("is-toggled")})),$(document).on("click",".js-open-cart-clear-popup-btn",(function(e){e.preventDefault(),$(".js-popup-callback").remove(),$.ajax({url:"index.php?route=common/popup/clear_cart",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){e.html&&$("body").append(e.html)}})})),window.addEventListener("pageshow",(e=>{$("#head_cart").load("index.php?route=common/cart/info",(function(){initHeadBlocks()})),$("#head_compare").load("index.php?route=product/compare/info",(function(){initHeadBlocks()}))})),initGuestAccountPopup(),initCustom(),initHeadBlocks(),initCompare()}));var initHeadBlocks=function(){$(".js-product-remove-from-cart").unbind().on("click",(function(e){var t=$(this);$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t.data("key"),dataType:"json",success:function(e){$("[data-id="+t.data("productId")+"]").each((function(){$(this).find(".js-product-to-cart").removeClass("is-added").find(".btn-add__text").text(e.product_to_cart)})),$("#head_cart").load("index.php?route=common/cart/info",(function(){initHeadBlocks(),$(".js-checkout-cart-products").length&&$(".js-checkout-cart-product-quantity").eq(0).trigger("change")}))},error:function(e,t,s){console.log(s+"\r\n"+e.statusText+"\r\n"+e.responseText)}})})),$(".styled-scroll").overlayScrollbars({overflowBehavior:{x:"hidden"}})};function setFaqViewed(e){$.ajax({url:"index.php?route=faq/faq/update_viewed",type:"post",data:"faq_id="+e,dataType:"json",success:function(e){}})}function setFaqLiked(e){$.ajax({url:"index.php?route=faq/faq/set_like",type:"post",data:"faq_id="+e,dataType:"json",success:function(t){"success"==t.status&&$("#faq-"+e).find(".likes").find("span").text(t.liked)}})}function setArticleLiked(e){$.ajax({url:"index.php?route=blog/article/set_like",type:"post",data:"article_id="+e,dataType:"json",success:function(t){"success"==t.status&&$(".article-card[data-id="+e+"] .likes span").text(t.liked)}})}function setNewsLiked(e,t){void 0===t&&(t=1);var s=1==t?0:1;$.ajax({url:"index.php?route=news/news/set_like",type:"post",data:{news_id:e,like:t,dislike:s},dataType:"json",success:function(t){"success"==t.status&&$(".article-card[data-id="+e+"] .likes span").text(t.liked)}})}function initGuestAccountPopup(){$(".js-open-login-popup-btn").unbind().on("click",(function(e){e.preventDefault(),$.ajax({url:"index.php?route=account/login/popup_login",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$("#popup-login").remove(),$("body").append(e.form),$(".js-popup-registration").fadeOut(300),$(".js-popup-login").fadeIn(300),$("html").addClass("is-fixed"),initGuestAccountPopup(),initPopupClose(),initCustom()},error:function(e,t,s){$("body").hideLoader()}})})),$(".js-popup-login form").bind("submit",(function(e){e.preventDefault();var t=$(this);t.find(".is-error").removeClass("is-error");var s=t.find("input[name=email]"),o=t.find("input[name=password]");return s.closest(".form-group").toggleClass("is-error",!validateEmail(s.val())),o.closest(".form-group").toggleClass("is-error",$.trim(o.val()).length<4),0===t.find(".is-error").length&&ajax_sendmessage(t,"/index.php?route=account/login/login",(function(e){e.status&&("success"===e.status?e.redirect?window.location.href=e.redirect:(t.closest(".popup__content").html('<p class="popup__subtitle text-center">'+e.message+"</p>"),setTimeout("window.location.reload()",5e3)):t.closest(".popup__content").find(".error_message").addClass("is-error").html('<div class="form-group__error">'+e.message+"</div>"))})),!1})),$(".js-open-password-popup-btn").unbind().on("click",(function(e){e.preventDefault(),$.ajax({url:"index.php?route=account/forgotten/popup_password",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$(".js-popup-password").remove(),$("body").append(e.form),$(".js-popup-login").fadeOut(300),$(".js-popup-password").fadeIn(300),$("html").addClass("is-fixed"),initGuestAccountPopup(),initPopupClose(),initCustom()},error:function(e,t,s){$("body").hideLoader()}})})),$(".js-popup-password form").bind("submit",(function(e){e.preventDefault();var t=$(this);t.find(".is-error").removeClass("is-error");var s=t.find("input[name=email]");return s.closest(".form-group").toggleClass("is-error",!validateEmail(s.val())),0===t.find(".is-error").length&&ajax_sendmessage(t,"/index.php?route=account/forgotten/forgotten",(function(e){e.status&&("success"===e.status?e.redirect?window.location.href=e.redirect:(t.closest(".popup__content").html('<p class="popup__subtitle text-center">'+e.message+"</p>"),setTimeout("window.location.reload()",5e3)):t.closest(".popup__content").find(".error_message").addClass("is-error").html('<div class="form-group__error">'+e.message+"</div>"))})),!1})),$(".js-open-registration-popup-btn").unbind().on("click",(function(e){e.preventDefault(),$.ajax({url:"index.php?route=account/register/popup_register",type:"post",dataType:"json",beforeSend:function(){$("body").showLoader()},complete:function(){$("body").hideLoader()},success:function(e){$(".js-popup-registration").remove(),$("body").append(e.form),$(".js-popup-login").fadeOut(300),$(".js-popup-registration").fadeIn(300),$("html").addClass("is-fixed"),initGuestAccountPopup(),initPopupClose(),initCustom()},error:function(e,t,s){$("body").hideLoader()}})})),$(".js-popup-registration form").bind("submit",(function(e){e.preventDefault();var t=$(this);t.find(".is-error").removeClass("is-error");var s=t.find("input[name=firstname]"),o=t.find("input[name=lastname]"),i=t.find("input[name=email]"),n=t.find("input[name=password]"),a=t.find("input[name=confirm]"),r=t.find("input[name=agree]");return s.closest(".form-group").toggleClass("is-error",$.trim(s.val()).length<2),o.closest(".form-group").toggleClass("is-error",$.trim(o.val()).length<2),i.closest(".form-group").toggleClass("is-error",!validateEmail(i.val())),n.closest(".form-group").toggleClass("is-error",$.trim(n.val()).length<4),a.closest(".form-group").toggleClass("is-error",$.trim(a.val()).length<4||n.val()!==a.val()),r.closest(".form-group").toggleClass("is-error",!r.is(":checked")),0===t.find(".is-error").length&&ajax_sendmessage(t,"/index.php?route=account/register/register",(function(e){e.status&&("success"===e.status?e.redirect?window.location.href=e.redirect:(t.closest(".popup__content").html('<p class="popup__subtitle text-center">'+e.message+"</p>"),setTimeout("window.location.reload()",5e3)):t.closest(".popup__content").find(".error_message").addClass("is-error").html('<div class="form-group__error">'+e.message+"</div>"))})),!1}))}function initPhoneMask(){$("input[type=tel]").inputmask({mask:"+7 (999) 999-9999",clearIncomplete:!1})}function initCustom(){$(".js-required-input").on("focus change",(function(){$(this).parents(".form-group").hasClass("is-error")&&$(this).parents(".form-group").removeClass("is-error")})),$(".js-show-input-password-btn").unbind("click").on("click",(function(){var e=$(this).parents(".form-group").find(".js-pw-input");$(this).toggleClass("is-active"),e.attr("type","password"===e.attr("type")?"text":"password")})),initPhoneMask()}function initCompare(){compareClearAll=function(e=!1){$.ajax({url:"index.php?route=product/compare/clear_all",type:"post",data:{},dataType:"json",beforeSend:function(){$("body").showLoader()},success:function(t){e?document.location.reload():$("#head_compare").load("index.php?route=product/compare/info",(function(){initHeadBlocks(),$("body").hideLoader(),$(".js-close-popup-btn").click(),$(".js-product-to-compare.is-added").removeClass("is-added")}))},error:function(e,t,s){$("body").hideLoader(),console.log(s+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},$(".js-toggle-compare-table-btn").unbind().on("click",(function(e){let t=$(this),s=t.parents(".compare-table__wrapper");e.preventDefault(),t.toggleClass("is-toggled"),s.find(".compare-table").stop().slideToggle(250),s.find(".js-compare-table__tds").slick("setPosition")})),$(document).on("click",".js-open-compare-clear-popup",(function(e){e.preventDefault();let t=$(".js-popup-confirm");t.find(".js-popup-confirm-title").text("Удалить все товары из сравнения?"),t.find(".js-popup-confirm-btn").attr("onclick","compareClearAll("+$(this).data("is_compare_page")+")"),t.find(".js-popup-confirm-btn-text").text("Да, удалить"),t.fadeIn(300),$("html").addClass("is-fixed")}))}function initPopupClose(){}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function validatePhone(e){return/((8|\+7)[ ]{1})(\(\d{3}\)[ ]{1})\d{3}[\-]{1}\d{4}/.test(e)}function validateForm(e,t){return e.find(".is-error").removeClass("is-error"),void 0===t&&(t=1),$(".js-required-input",e).each((function(){var e=!0;e=$(this).is(":checkbox")?!$(this).is(":checked"):"email"==$(this).attr("name")?!validateEmail($(this).val()):"telephone"==$(this).attr("name")||"phone"==$(this).attr("name")?!validatePhone($(this).val()):$.trim($(this).val()).length<t,$(this).closest(".form-group").toggleClass("is-error",e)})),0===e.find(".is-error").length}function ajax_sendmessage(e,t,s,o){$("body").showLoader();var i=e.find("input[name=g-recaptcha-response]");if(e.find("input[name=state]").length>0&&e.find("input[name=state]").val("verify"),i.length>0&&i.data("sitekey")&&grecaptcha)grecaptcha.ready((function(){grecaptcha.execute(i.data("sitekey"),{action:"submit"}).then((function(i){e.find("input[name=g-recaptcha-response]").val(i);var n=e.serializeArray();o||(o=new FormData,$("input[type=file]",e).each((function(e,t){var s=$(this);$.each(s[0].files,(function(e,t){o.append($(s).attr("name"),t)}))})));for(var a=0;a<n.length;a++)o.has(n[a].name)?o.set(n[a].name,n[a].value):o.append(n[a].name,n[a].value);$.ajax({cache:!1,contentType:!1,processData:!1,type:"POST",dataType:"json",url:t,data:o,complete:function(){$("body").hideLoader()},success:function(t){"function"==typeof s&&s(t,e)},error:function(e,t,s){$("body").hideLoader()}})}))}));else{var n=e.serializeArray();o||(o=new FormData,$("input[type=file]",e).each((function(e,t){var s=$(this);$.each(s[0].files,(function(e,t){o.append($(s).attr("name"),t)}))})));for(var a=0;a<n.length;a++)o.has(n[a].name)?o.set(n[a].name,n[a].value):o.append(n[a].name,n[a].value);$.ajax({cache:!1,contentType:!1,processData:!1,type:"POST",dataType:"json",url:t,data:o,complete:function(){$("body").hideLoader()},success:function(t){"function"==typeof s&&s(t,e)},error:function(e,t,s){$("body").hideLoader()}})}}if(document.getElementById("head_panel"))var panel=document.getElementById("head_panel"),panel_top=panel.offsetTop,panel_height=panel.offsetHeight;function fixed_panel(){(window.scrollY||document.documentElement.scrollTop||document.body.scrollTop)>=panel_top?(panel.style.position="fixed",document.getElementsByClassName("header-top")[0].style.marginBottom=panel_height+"px",document.getElementsByClassName("catalog-menu")[0].style.marginTop=panel_height+"px",document.getElementsByClassName("catalog-menu")[0].style.marginTop=panel_height+"px"):(panel.style.position="relative",document.getElementsByClassName("header-top")[0].style.marginBottom="",document.getElementsByClassName("catalog-menu")[0].style.marginTop=panel_top+panel_height+"px")}window.addEventListener("pageshow",(e=>{console.log("Is cache debug. Remove after develop. Cache mode:"),e.persisted?console.log("bfcache"):console.log("normal")}));